<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Search - Heaven Furniture</title>

<style>
body{
  background:url("banner 2/bg.png") no-repeat fixed center;
  background-size:cover;
  margin:0;
  font-family: 'Tahoma', sans-serif;
}

.wrapper{
  max-width:1600px;
  margin:0 auto;
  text-align:center;
}

.top-banner{
  border-radius:28px;
  display:block;
  margin:20px auto;
}

.nav-menu{
  margin:0 auto;
}

.nav-menu img{
  border-radius:18px;
  overflow:hidden;
}

.search-section {
  margin: 50px auto;
  width: 800px;
}

.search-box {
  display: flex;
  background: white;
  padding: 12px 25px;
  border-radius: 50px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.search-input {
  flex: 1;
  border: none;
  outline: none;
  font-size: 18px;
}

.search-btn {
  background: #b5835a;
  color: white;
  border: none;
  padding: 10px 30px;
  border-radius: 30px;
  cursor: pointer;
  font-weight: bold;
}

#search-results {
  display: block; 
  width: 1534px;
  margin: 40px auto;
}

.results-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr); /* ปรับเป็น 4 คอลัมน์ให้เหมือนหน้าแรก */
  gap: 30px;
  padding-bottom: 50px;
}

.product-card {
  background-color: white;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0,0,0,0.08);
  display: flex;
  flex-direction: column;
  text-align: left;
}

.img-box {
  width: 100%;
  height: 280px;
  background-color: #fcfcfc;
  display: flex;
  align-items: center;
  justify-content: center;
}

.img-box img {
  max-width: 90%;
  max-height: 90%;
  object-fit: contain;
}

.product-info {
  padding: 20px;
  flex-grow: 1;
}

.product-name {
  font-weight: bold;
  font-size: 18px;
  color: #333;
  margin-bottom: 5px;
}

.product-price {
  color: #b5835a;
  font-size: 20px;
  font-weight: bold;
  margin-bottom: 10px;
}

.product-desc {
  font-size: 14px;
  color: #666;
  line-height: 1.4;
  margin-bottom: 15px;
  height: 40px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.btn-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.btn {
  padding: 10px;
  border: none;
  border-radius: 10px; 
  cursor: pointer;
  font-weight: bold;
  font-size: 13px;
  width: 100%;
  text-align: center;
  box-sizing: border-box;
}

.btn-buy {
  background: #b5835a;
  color: white;
}

.btn-cart {
  background: #333;
  color: white;
}

.btn-fav {
  background: #f8f8f8;
  color: #ff4d6d;
  border: 1px solid #eee;
}

#miniCart { 
  display: none;
}
</style>

<script type="text/javascript">
function MM_swapImgRestore(){var i,x,a=document.MM_sr;for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++)x.src=x.oSrc;}
function MM_preloadImages(){var d=document;if(d.images){if(!d.MM_p)d.MM_p=new Array();
var i,j=d.MM_p.length,a=MM_preloadImages.arguments;for(i=0;i<a.length;i++)
if(a[i].indexOf("#")!=0){d.MM_p[j]=new Image;d.MM_p[j++].src=a[i];}}}
function MM_findObj(n,d){var p,i,x;if(!d)d=document;if((p=n.indexOf("?"))>0&&parent.frames.length){
d=parent.frames[n.substring(p+1)].document;n=n.substring(0,p);}
if(!(x=d[n])&&d.all)x=d.all[n];for(i=0;!x&&i<d.forms.length;i++)x=d.forms[i][n];
for(i=0;!x&&d.layers&&i<d.layers.length;i++)x=MM_findObj(n,d.layers[i].document);
if(!x&&d.getElementById)x=d.getElementById(n);return x;}
function MM_swapImage(){var i,j=0,x,a=MM_swapImage.arguments;document.MM_sr=new Array;
for(i=0;i<(a.length-2);i+=3)
if((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x;if(!x.oSrc)x.oSrc=x.src;x.src=a[i+2];}}

function doSearch() {
  var input = document.querySelector('.search-input').value.toLowerCase();
  var cards = document.querySelectorAll('.product-card');
  var hasResult = false;

  cards.forEach(card => {
    var productName = card.getAttribute('data-name').toLowerCase();
    if (input === "" || productName.includes(input)) { 
      card.style.display = "flex"; 
      hasResult = true; 
    } else { 
      card.style.display = "none"; 
    }
  });

  if (!hasResult && input !== "") { 
    alert("ไม่พบสินค้าที่ตรงกับการค้นหา"); 
  }
}

function buyNow(name, price, img) {
    let cleanPrice = price.toString().replace(/฿/g, '').replace(/,/g, '');
    localStorage.setItem("checkoutItem", JSON.stringify({ name, price: cleanPrice, img }));
    window.location.href = "payment.html";
}

function addToCart(name, price, img) {
    let list = JSON.parse(localStorage.getItem("cart") || "[]");
    let cleanPrice = price.toString().replace(/฿/g, '').replace(/,/g, '');
    let found = list.find(p => p.name === name);
    if(found) { found.qty += 1; } else { list.push({name, price: cleanPrice, img, qty:1}); }
    localStorage.setItem("cart", JSON.stringify(list));
    alert("เพิ่มลงตะกร้าเรียบร้อยแล้ว");
}

function addToFavorite(name, price, img) {
    let list = JSON.parse(localStorage.getItem("favorites") || "[]");
    let cleanPrice = price.toString().replace(/฿/g, '').replace(/,/g, '');
    if(!list.some(p => p.name === name)) {
        list.push({name, price: cleanPrice, img});
        localStorage.setItem("favorites", JSON.stringify(list));
        alert("เพิ่มในรายการโปรดแล้ว");
    } else {
        alert("สินค้านี้อยู่ในรายการโปรดแล้ว");
    }
}
</script>
</head>

<body onLoad="MM_preloadImages('banner 2/home1.1.png','banner 2/home2.1.png','banner 2/home3.1.png','banner 2/home4.1.png','banner 2/home6/1.png','banner 2/home7/1.png','banner 2/home8/1.png','banner 2/home9/1.png','banner 2/home10/1.png')">

<div class="wrapper">

<header>
  <img class="top-banner" src="bannerrrrrrrrrrrrrrrrrrrrrrrrr33/search.png" width="1605" height="200">
</header>

<table width="1534" border="0" class="nav-menu">
<tr>
<td width="155"><a href="index.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image2','','banner 2/home1.1.png',1)"><img src="banner 2/home1.png" width="155" height="40" id="Image2"></a></td>
<td width="155"><img src="banner 2/home5.1.png" width="155" height="40"></td>
<td width="155"><a href="Product.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image3','','banner 2/home2.1.png',1)"><img src="banner 2/home2.png" width="155" height="40" id="Image3"></a></td>
<td width="155"><a href="Recommended products.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image5','','banner 2/home3.1.png',1)"><img src="banner 2/home3.png" width="155" height="40" id="Image5"></a></td>
<td width="155"><a href="promotion.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image6','','banner 2/home4.1.png',1)"><img src="banner 2/home4.png" width="155" height="40" id="Image6"></a></td>
<td width="155"><a href="Contact.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image7','','banner 2/home6/1.png',1)"><img src="banner 2/home6/2.png" width="155" height="40" id="Image7"></a></td>
<td width="155"><a href="profile.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image8','','banner 2/home7/1.png',1)"><img src="banner 2/home7/2.png" width="155" height="40" id="Image8"></a></td>
<td width="155"><a href="Favorites.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image9','','banner 2/home8/1.png',1)"><img src="banner 2/home8/2.png" width="155" height="40" id="Image9"></a></td>
<td width="155"><a href="shopping cart.html" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('Image10','','banner 2/home9/1.png',1)"><img src="banner 2/home9/2.png" width="155" height="40" id="Image10"></a></td>
<td width="75"><a href="payment.html" onMouseOver="MM_swapImage('Image11','','banner 2/home10/1.png',1)" onMouseOut="MM_swapImgRestore()"><img src="banner 2/home10/2.png" width="155" height="40" id="Image11"></a></td>
</tr>
</table>

<div class="search-section">
  <div class="search-box">
    <input type="text" class="search-input" placeholder="ค้นหาเฟอร์นิเจอร์ที่คุณต้องการ...">
    <button class="search-btn" onclick="doSearch()">ค้นหา</button>
  </div>
</div>

<div id="search-results">
  <div class="results-grid">
    
    <div class="product-card" data-name="Modern Lounge Chair">
      <div class="img-box"><img src="สินค้า/Modern Lounge Chair.png"></div>
      <div class="product-info">
        <div class="product-name">Modern Lounge Chair</div>
        <div class="product-price">฿9,900</div>
        <div class="product-desc">อาร์มแชร์ดีไซน์ทันสมัย บุด้วยผ้ากำมะหยี่นุ่มพิเศษ รองรับสรีระได้ดี</div>
        <div class="btn-group">
          <button class="btn btn-buy" onclick="buyNow('Modern Lounge Chair', '฿9,900', 'สินค้า/Modern Lounge Chair.png')">BUY NOW</button>
          <button class="btn btn-cart" onclick="addToCart('Modern Lounge Chair', '฿9,900', 'สินค้า/Modern Lounge Chair.png')">ADD TO CART</button>
          <button class="btn btn-fav" onclick="addToFavorite('Modern Lounge Chair', '฿9,900', 'สินค้า/Modern Lounge Chair.png')">❤ FAVORITE</button>
        </div>
      </div>
    </div>

    <div class="product-card" data-name="Vintage Cabinet">
      <div class="img-box"><img src="สินค้า/Vintage Cabinet.png"></div>
      <div class="product-info">
        <div class="product-name">Vintage Cabinet</div>
        <div class="product-price">฿7,200</div>
        <div class="product-desc">ตู้เก็บของไม้สไตล์วินเทจ งานฝีมือประณีต แข็งแรงทนทาน</div>
        <div class="btn-group">
          <button class="btn btn-buy" onclick="buyNow('Vintage Cabinet', '฿7,200', 'สินค้า/Vintage Cabinet.png')">BUY NOW</button>
          <button class="btn btn-cart" onclick="addToCart('Vintage Cabinet', '฿7,200', 'สินค้า/Vintage Cabinet.png')">ADD TO CART</button>
          <button class="btn btn-fav" onclick="addToFavorite('Vintage Cabinet', '฿7,200', 'สินค้า/Vintage Cabinet.png')">❤ FAVORITE</button>
        </div>
      </div>
    </div>

    <div class="product-card" data-name="Luxury Chandelier">
      <div class="img-box"><img src="สินค้า/Luxury Chandelier.png"></div>
      <div class="product-info">
        <div class="product-name">Luxury Chandelier</div>
        <div class="product-price">฿5,800</div>
        <div class="product-desc">โคมไฟระย้าดีไซน์หรูหรา เพิ่มความสว่างให้ห้องนั่งเล่นของคุณ</div>
        <div class="btn-group">
          <button class="btn btn-buy" onclick="buyNow('Luxury Chandelier', '฿5,800', 'สินค้า/Luxury Chandelier.png')">BUY NOW</button>
          <button class="btn btn-cart" onclick="addToCart('Luxury Chandelier', '฿5,800', 'สินค้า/Luxury Chandelier.png')">ADD TO CART</button>
          <button class="btn btn-fav" onclick="addToFavorite('Luxury Chandelier', '฿5,800', 'สินค้า/Luxury Chandelier.png')">❤ FAVORITE</button>
        </div>
      </div>
    </div>

    <div class="product-card" data-name="Marble Side Table">
      <div class="img-box"><img src="สินค้า/Marble Side Table.png"></div>
      <div class="product-info">
        <div class="product-name">Marble Side Table</div>
        <div class="product-price">฿3,200</div>
        <div class="product-desc">โต๊ะข้างเตียงท็อปหินอ่อน ขาเหล็กชุบทองกันสนิม</div>
        <div class="btn-group">
          <button class="btn btn-buy" onclick="buyNow('Marble Side Table', '฿3,200', 'สินค้า/Marble Side Table.png')">BUY NOW</button>
          <button class="btn btn-cart" onclick="addToCart('Marble Side Table', '฿3,200', 'สินค้า/Marble Side Table.png')">ADD TO CART</button>
          <button class="btn btn-fav" onclick="addToFavorite('Marble Side Table', '฿3,200', 'สินค้า/Marble Side Table.png')">❤ FAVORITE</button>
        </div>
      </div>
    </div>

  </div>
</div>

</div>
</body>
</html>
